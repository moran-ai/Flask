<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>首页</title>
    <style>
        .info{
            color: deepskyblue;
        }
        .error{
            color: red;
        }
        .warning{
            color: orange;
        }
    </style>
</head>
<body>
{# 获取flash中的消息 get_flashed_messages() #}
{# with语句 声明变量的代码块 #}
{#{% with messages = get_flashed_messages()  %}#}
{#    {% if messages %}#}
{#        <ul>#}
{#            {% for message in messages %}#}
{#                <li>{{ message }}</li>#}
{#            {% endfor %}#}
{#        </ul>#}
{#    {% endif %}#}
{#{% endwith %}#}

{# with_categories=True 返回的数组是一个元组  为False返回一个消息 #}
{% with messages = get_flashed_messages(with_categories=True)  %}
    {% if messages %}
        <ul>
            {% for category,message in messages %}
                <li class="{{ category }}">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endwith %}
<a href="{{ url_for('test') }}">测试flash数据获取</a>
</body>
</html>
